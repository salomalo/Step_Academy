<?xml version="1.0" encoding="windows-1251" ?>
<?xml:stylesheet type="text/xsl" href="common/layout.xsl" ?>

<lesson title="Win32API та MFC" next="index.xml" prev="section18НC.xml" summ="1">

<h2>19С. ДЗ по курсу Win32API</h2>
  <h3>Урок 1. Мінімальна програма для Windows.</h3>
<p>Написати програму, яка вгадує задумане користувачем число від 1 до 100. Для запиту до користувача використовуються вікна повідомлень. Після того, як число відгадано, необхідно вивести кількість спроб, які для цього знадобились і надати користувачу можливість зіграти ще раз, не завершуючи програму. Вікна повідомлень оформити кнопкам та іконками. Основне вікно програми являється необовязковим.</p>
<hr/>
  <h3>Урок 2. Перше вікно для Windows.</h3>
  <p>Написати програму, в якій при натисненні довільної клавіши на вікні запускається тест, який містить мінімум 3 запитання. Для запиту до користувача використати MessageBox. Після проходження тесту на вікні виводиться результат здачі тесту. Наприклад: <br/> <img src="images/test_1.gif" width="70%" /></p>
  <hr/>

 <h3>Урок 3. Введення в GDI. Шрифти та робота з текстом. Примітиви та обєкти GDI перо (pen) та пензлик (brush).</h3>
  <h5>Завдання 1</h5>
  <p>Створити два градієнтні пензлі (brush), якими зафарбувати дві довільно обрані замкнуті області (сегмент, прямокутник тощо). Градієнти можуть бути довільні: діагональний, від центру тощо. Наприклад:<br/>
<img src="images/gradient.gif" width="600px" /></p>
<p><b>ПРИМІТКА!</b> Для створення градієнту можна скористатись пензликом (brush) або пером (pen).</p>
  <h5>Завдання 2</h5>
  <p>За допомогою засобів GDI створити табличку 5*5 прямокутників. Зафарбувати їх кольорами, які обираються за допомогою генератора випадкових чисел (рандомайзом) та на кожному прямокутнику вивести надпис – колір прямокутника в 16-вій системі числення. (ПРИМІТКА. Аналог таблиці кольорів в графіці). Наприклад:<br/>
<img src="images/colortable.gif" width="550px" align="left" /> <img src="images/colortable2.gif" width="500px" /></p>
<p><br clear="both" /></p>
<hr/>
<h3>Урок 4. Клас CImage. Контекст пам'яті</h3>
<p>Написати мультфільм на довільну тему. Приклад базового файла bmp, який визначає кадри мультфільму наведений нижче:<br/>
<img src="images/mult.bmp" /><br /><img src="images/mult_2.gif" width="200px" /></p>
<p><b>Примітка!</b> Для створення мультфільма дозволяється скористатись і набором зображень для анімації.</p>
<hr/>

  <h3>Урок 5. Повідомлення миші, пов’язані з робочою та неробочою областю вікна</h3>
  <p>Гра – злови мене. На клієнтській області знаходиться зображення, яке на тік таймера довільно переміщується. Задача – Ви повинні мишкою зловити даний об’єкт, якщо зловили, то видається відповідне повідомлення.</p>
<p>По бажанню, можна розробити різні рівні сладності гри. Наприклад, після того, як зловили зображення 10 разів, швидкість його руху збільшується. В такому разі можна передбачити довільні умови виходу з гри: досягли відповідного рівня або натиснули правою клавішою миші по екрану і виводиться пропозиція виходу з гри тощо.</p>
<p>У випадку закінчення гри виводиться інформація про гру: кількість попадань, досягнутий рівень тощо.</p>
<p><b>Примітка!</b> Оцінка залежить від реалізації гри.</p>
  <hr/>
<h3>Урок 6. Основні поняття про клавіатуру.</h3>
<h5>Одне завдання на вибір</h5>
<h5>на 9 балів:</h5>
  <p>Написати програму з наступними вимогами:<br/>
    <ol>
	<li>При натисненні на клавішу Enter вікно вашої програми позиціонується в лівий верхній кут екрану з розмірами 300х300.</li>
      <li>За допомогою клавіш управління курсором здійснюється переміщення вікна.</li>
      <li>При натисненні комбінації клавіш, наприклад <![CDATA[ <Alt+VK_xxx> ]]>, ваше вікно починає переміщуватись по периметру екрана з певною швидкістю.</li>     
      <li>Натиснення клавіші Esc відміняє переміщення вікна.</li>
    </ol>
  </p>
  <h5>на 12 балів:</h5>
  <p>Написати програму, яка здійснює ефект "світломузики" для клавіш-перемикачів (Caps Lock, Num Lock, Scroll Lock). Наприклад:<br/>
<img src="images/key_music.gif" width="300px" /> </p>
  <hr/>

  <h3>Урок 7.Використання ресурсів. Іконки, курсори, бітові зображення (bitmap).</h3>
  <p>Самостійно спробувати створення даних ресурсів.</p>
   <hr/>
  <h3>Урок 8. Меню як ресурс. Акселератори.</h3>
  <p>Написати програму, в якій реалізувати <b>систему головного меню</b> з двох основних пунктів: <ol><li>Файл:<ul><li>укр./англ.<sup>*</sup></li><li>зміна курсора</li><li>сепаратор</li><li>вихід.</li></ul></li>
<li>Малювання:<ul><li>малювання іконки на клік мишки</li><li>малювання прямокутника на рух мишки (Solid або Hatch Brash)</li>
<li>малювання еліпса текстурним пензлем (Pattern (Texture) Brush);</li><li>малювання лінії.</li></ul></li>
</ol></p>
  <p>Всі ресурси (іконки, курсори тощо) повинні бути створені вами. До пунктів головного меню додати акселератори (не обов'язково до всіх).</p>
<p>Програма повинна також містити<b> контекстне меню</b> для зміни фону фігури (пензлика). Може містити орієнтовно наступні пунти меню
<ul><li>Cross</li><li>Diagonal</li><li>Bubble</li><li>Red</li></ul>Кожен пункт такого меню може супроводжуватись іконкою з показом фону для фігури (на 12 балів).</p>

<p><sup>*</sup> Передбачає зміну мови меню з української на англійську і назад. Для цього в програмі небхідно реалізувати два ідентичних меню, одне з яких містить англійські назви, а інше - українські. При старті програми завантажується українське меню. При виборі пункта меню "укр./англ." завантажується англомовне меню і навпаки. По суті, просто робиться підміна одного меню іншим.</p>
   <hr/>
  <h3>Урок 9. Модальні та немодальні вікна діалогу.</h3>
<p>Доповнити головне меню попередньої програми (Урок 8) пунктом <b>"Справка" (Help)</b>, в якому будуть міститись два підменю:
<ul><li><b>Додаткова інформація (Additional Information)</b>, яке дозволяє виводити додаткову інформацію про поточну фігуру: координати її відображення (x, y), ширину, висоту, площу, периметр, колір фону тощо. Дана інформація виводиться в <u>немодальному діалоговому вікні</u>.</li>
<li><b>Про програму "About"</b> - <u>модальне діалогове вікно</u>, що містить короткий опис програми.</li></ul>
</p>
<p><b>ПРИМІТКА!</b> Площа еліпса розраховується по формулі S = <img src="images/pi.gif" width="20px" /> * a * b, де a і b – це полуосі еліпса (див. малюнок).<br /><img src="images/ellipse.gif" />
</p>
<hr/>
<h3>Урок 10. Елементи управління. Статичний текст (static) та створення кнопок (button)</h3>
<p>Написати <b>гру "Хрестики-нулики"</b>, враховуючи наступні вимоги:<ul><li>ігрове поле розміром 3х3 повинно складатись з кнопок;</li>
<li>при натисненні на кнопку, на ній повинно відобразитись зображення (хрестик або нулик);</li>
<li>необхідно заборонити спробу поставити хрестик або нулик на заняту клітинку;</li>
<li>надати користувачу право вибору першого ходу, використовуючи флажок;</li>
<li>передбачити можливість вибору рівня складності, використовуючи перемикачі (radiobutton) (на 12 балів);</li>
<li>передбачити кнопку "Нова гра".</li></ul>
</p>
<p>Орієнтовний вигляд програми: <br/> <img src="images/xo_1.gif" width="650px" /> <img src="images/xo_2.gif" width="300px" /></p>
<p><b>ПРИМІТКИ! </b>
<ol><li>Для написання програми можна скористатись методами LoadBitmap, SendMessage, а також повідомленнями BM_SETIMAGE, BM_GETIMAGE, DM_SETCHECK, BM_GETCHECK, WM_CLOSE.</li>
<li>Якщо необхідно, щоб програма була діалоговим вікном, тоді необхідно в функції WinMain() викликати функцію DialogBox(), а весь функціонал описати в діалоговій процедурі. Тобто код функції WinMain() зведеться до наступного:
<example>
INT APIENTRY WinMain(HINSTANCE hInst, HINSTANCE hPrevInst, LPSTR lpCmdLine, INT nShow)
{
	return DialogBox(hInst), MAKEINTRESOURCE(IDD_GAME), hWnd, (DLGPROC)GameProc);
}
</example>
</li>
</ol></p>
<hr />
<h3>Урок 11. Елементи управління. Текстове поле та список</h3>
<p>
Необхідно розпочати створення <b>ігрового інтерфейсу налаштування раси персонажа</b>. Даний інтерфейс складається з:
<ol>
<li>Списка рас персонажів</li>
<li>Текстове поле, яка містить інформацію про обрану в списку расу персонажа. Ця інформація завантажується з файла. Якщо інформації про обраного персонажа немає, тоді виводиться повідомлення "Дані про персонажа відсутні"</li>
<li>Статичний текст (static control), picture control або інший елемент управління, в якому виводиться зображення раси. Шлях до зображекння також зберігається в файлі. Якщо дані про персонажа відсутні, тоді виводиться зображення по замовчуванню: червоний хрест, знак запитання тощо.</li>
</ol>
Орієнтовний вигляд інтерфейсу: <br/><img src="images/rpg.gif" width="500px" />
</p>
<p>
<b>ПРИМІТКИ! </b>Зв'язати списки між собою можна за допомогою повідомлення LB_SETITEMDATA, яке співставляє з елементом списка певні дані, наприклад, рядок або вказівник на структуру або клас. Більш детальнішу інформацію по даному повідомленню дивіться в MSDN.</p>
<hr />
<h3>Урок 12. Обмін даними з діалоговим вікном. Стандартні діалогові вікна</h3>
<p>
Доповнити минулу домашню задачу (Урок 11) наступними функціональними можливостями:<ol><li>Кнопкою <b>Add (Додати)</b>, яка розміщується під списком рас та дозволяє за допомогою діалогового вікна "Add character" (Додати расу персонажа) додати нову расу.</li><li>Кнопкою <b>Remove (Видалити)</b>, яка дозволяє видалити існуючу в списку расу персонажа при його виборі. При цьому знищується і вся зв"язана з нею інформація (зображення, опис)</li><li>Кнопкою <b>Edit (Редагувати)</b>, яке дозволяє відредагувати дані про расу за допомогою діалогового вікна "Edit character" (Редагувати расу персонажа).</li>
<li>Кнопкою <b>Save (Зберегти)</b> біля текстового поля, яке дозволяє відредагувати дані в текстовому полі і зберегти їх. Тобто дозволяє здійснити часткові зміни даних про расу.</li></ol>
Діалогове вікно <b>"Add character" (Додати расу персонажа) </b>дозволяє додати нову расу  персонажа і має орієнтовно наступний вигляд:<br/>
<img src="images/AddCharacter.gif" />
</p>
<p>Діалогове вікно <b>"Edit character" (Редагувати расу персонажа) </b>дозволяє відредагувати обрану в списку расу персонажа. По суті, при виборі даного пункта/кнопки на екран показується вже розроблене діалогове вікно "Add character", але з зміненим заголовком та вже заповненими полями з інформацією про вказану расу. Всі змінені дані записується в той же файл.</p>
</lesson>